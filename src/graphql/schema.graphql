#### Query ####
type Query {
  getAllUser: [user]
  getAllCafe: [cafe]
  emailUser(email: String!): user
  getUserById(id: Int!): user
  getCafeByName(cafe_name: String!): cafe
  getCafeById(id: Int!): cafe
  getReview(key: String!): [review]
}

#### Mutation ####
type Mutation {
  addQR(cafeName: String!, code: String!): Qr_data
  getKakaoUserByJwt(jwt: String!): user
  authUser: user
  addStory(owner_email: String!)
}

### 유저 ###
type user {
  _id: ID!,
  id: Int!,
  name: String!,
  email: String!,
  auth: String!,
  point: Int!,
  story_list: [story]
  rating: String!,
  cafe_list: [QR_data],
  point: Int!
  average_star: Float,
}

# 유저 하위 데이터 (소지한 카드 정보) #
type QR_data {
  cafe_name: String!,
  code: String!,
  visit_times: It!,
}

#### SNS 게시물 ####
type story {
  owner_email: String!,
  owner: String!,
  image_list: [String]!,
  like_count: Int!,
  liker_list: [user],
  location: String,
  comment_list: [String],
  hash_tag_list: [String],
}

### 카페 ###
type cafe {
  _id: ID!,
  owner_id: String!,
  cafe_info: Cafe_info_data!,
  discount_rate: Cafe_discount_rate!,
  point_fluc: Int!,
}

# 카페 하위 데이터 (카페 정보) #
type Cafe_info_data {
  name: String!,
  beans: String,
  position: String!,
  address: String!,
  phone: String!
}

# 카페 하위 데이터 (등급별 할인율) #
type Cafe_discount_rate {
  silver: Int!,
  gold: Int!,
  vip: Int!,
}

### 리뷰 ###
type review {
  _id: ID!,
  key: String!,
  user_name: String!,
  content: String,
  like: Int!,
  map: Int!,
  star: Star!,
  comment: [Comment],
  hash_tag: [String],
}

# 리뷰 하위 데이터 (평점) #
type Star {
  flavor: Float!,
  atmosphere: Float!,
  price: Float!,
}

# 리뷰 하위 데이터 (댓글) #
type Comment {
  date: String!,
  user_name: String!,
  content: String!,
}

### 마일리지 로그 ###
type mileage_log {
  _id: ID!,
  date: String!,
  staff_id: String!,
  client_id: String!,
  cafe_name: String!,
  menu_name: String!,
  price: Int!,
  mileage: Int!,
}
